// STHC Amenities Carousel
// Basic layout and responsive behaviour.
// Images are full-bleed; content sits on top.
@import '../variables';
@import '../mixin';

.sthc-amenities-carousel {
  position: relative;

  &__inner {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
  }

  &__header {
    display: flex;
    align-items: stretch;
    gap: 24px;
    position: absolute;
    inset: 0 0 auto;
    z-index: 3;
    padding: 24px 12px 0;
  }

  &__nav {
    display: flex;
    flex: 1 1 auto;
    position: relative;
  }

  &__nav-item {
    font-family: "Futura", "futura-pt", "Helvetica Neue", Helvetica, Arial, sans-serif;
    padding: 0 0 12px;
    text-align: left;
    border: 0;
    color: $tertiary-color;
    line-height: 1.5;
    font-weight: 500;
    font-size: 16px;
    background: transparent;
    cursor: pointer;
    text-transform: none;
    outline: none;
    @media only screen and (max-width: 999px) {
      position: absolute;
      inset: 0;
      opacity: 0;
    }
    @include desktop {
      position: relative;
      flex: 1 1 auto;
      .sthc-amenities-carousel__nav-label {
        padding-right: 48px;
      }
      &:last-child {
        text-align: right;
        min-width: none;
        .sthc-amenities-carousel__nav-label {
          padding-right: 0;
        }
      }
    }
    &:focus-visible {
      outline: 2px solid #ffffff;
      outline-offset: 3px;
    }
  }

  &__nav-label {
    display: inline-block;
    @include desktop {
      white-space: nowrap;
    }
  }

  &__nav-progress {
    position: relative;
    display: block;
    width: 100%;
    height: 2px;
    margin-bottom: 12px;
    background: #fff;
    overflow: hidden;
  }

  &__nav-progress-bar {
    display: block;
    width: 100%;
    height: 100%;
    transform-origin: left center;
    transform: scaleX(0);
    background: #fff;
    will-change: transform;
  }

  &__nav-item {
    &.is-active {
      @media only screen and (max-width: 999px) {
        opacity: 1;
      }
      .sthc-amenities-carousel__nav-progress {
        background: rgba(255, 255, 255, 0.5);
      }
      ~ button {
        .sthc-amenities-carousel__nav-progress {
          background: rgba(255, 255, 255, 0.5);
        }
      }
    }
  }

  &__pause {
    display: none;
  }

  &__slides {
    position: relative;
    width: 100%;
    height: calc(100vh - 123px);
    max-height: 647px;
  }

  &__slide {
    display: flex;
    align-items: flex-end;
    position: absolute;
    inset: 0;
    width: 100%;
    opacity: 0;
    pointer-events: none;
    transition: opacity 350ms ease;
    z-index: 1;
    &.white-content {
      h3 {
        font-family: "Futura", "futura-pt", "Helvetica Neue", Helvetica, Arial, sans-serif;
        line-height: 1.12;
        text-transform: none;
        font-weight: 500;
        font-size: 32px !important;
        margin-bottom: 12px;
      }
      a.sthc-amenities-carousel__link {
        color: $tertiary-color;
        font-size: 16px;
        line-height: 1.37;
        svg {
          width: 16px;
          height: 16px;
          aspect-ratio: 1/1;
          path {
            fill: $tertiary-color;
            stroke: $tertiary-color;
          }
        }
        &:hover {
          color: $primary-color;
          svg {
            path {
              fill: $primary-color;
              stroke: $primary-color;
            }
          }
        }
      }
    }
    &.is-active {
      opacity: 1;
      pointer-events: auto;
      z-index: 2;
    }
  }

  &__controls {
    display: inline-flex;
    gap: 12px;
    z-index: 3;
    @include desktop {
      display: none
    }
  }

  &__control-arrow {
    border: 0;
    padding: 8px;
    cursor: pointer;
    border: 2px solid $tertiary-color;
    background-color: $tertiary-color !important;
    transition: all .45s cubic-bezier(.25, 1, .33, 1) !important;
    border-radius: 0;
    span,
    svg {
      display: block;
      width: 20px;
      height: 20px;
    }
    &:hover {
      background-color: transparent !important;
      svg path {
        fill: $tertiary-color;
        stroke: $tertiary-color;
      }
    }
  }

  &__control-arrow--next {
    border: 2px solid $primary-color;
    background-color: $primary-color !important;

    &:hover {
      background-color: transparent !important;
      svg path {
        fill: $primary-color;
        stroke: $primary-color;
      }
    }
  }

  &__status {
    display: none;
  }

  &__media {
    position: absolute;
    inset: 0;
    z-index: 1;
    overflow: hidden;
    &:after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, rgba(0, 0, 0, 0.00) 36.78%, rgba(0, 0, 0, 0.60) 71.83%), linear-gradient(0deg, rgba(0, 0, 0, 0.40) 0%, rgba(0, 0, 0, 0.40) 100%);
      pointer-events: none;
      @include mobile {
        background: linear-gradient(180deg, rgba(0, 0, 0, 0.80) 9.86%, rgba(0, 0, 0, 0.00) 33.11%), linear-gradient(180deg, rgba(0, 0, 0, 0.00) 48.86%, rgba(0, 0, 0, 0.80) 73.2%);
      }
    }
  }

  &__picture,
  &__image {
    width: 100%;
    height: 100%;
  }

  &__image {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100% !important;
    object-fit: cover;
    object-position: 50% 50%;
  }

  &__content {
    position: relative;
    z-index: 2;
    padding: 40px 12px;
    max-width: 424px;
  }

  &__body {
    margin-bottom: 24px;
    @include mobile {
      font-size: 20px;
    }
  }

  &__link {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    color: $primary-color;
    line-height: 1.37;
    font-size: 24px;
    line-height: 0.91;
    text-decoration-line: underline;
    text-decoration-style: solid;
    text-decoration-skip-ink: none;
    text-decoration-thickness: auto;
    text-underline-offset: auto;
    text-underline-position: from-font;
    transition: all .3s ease;
    &:focus-visible {
      outline: 2px solid #ffffff;
      outline-offset: 2px;
    }
    &:hover {
      color: $tertiary-color;
      svg {
        path {
          fill: $tertiary-color;
          stroke: $tertiary-color;
        }
      }
    }
  }

  // Tablet+
  @media (min-width: 768px) {
    &__content {
      padding: 50px 12px;
    }
  }

  // Desktop
  @media (min-width: 1025px) {
    &__nav-item {
      min-width: 120px;
    }
    &__slides {
      max-height: 768px;
    }
    &__content {
      padding: 96px 12px;
    }
  }
}
